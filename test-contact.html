<!DOCTYPE html>
<html>
<head>
  <title>Test Contact Form</title>
</head>
<body>
  <h1>Test Contact Form API</h1>
  <button onclick="testAPI()">Test API</button>
  <div id="result"></div>

  <script>
    async function testAPI() {
      const resultDiv = document.getElementById('result');
      resultDiv.innerHTML = 'Testing...';
      
      try {
        const response = await fetch('/api/contact', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            name: 'Test User',
            email: 'test@example.com',
            message: 'This is a test message'
          })
        });
        
        console.log('Response status:', response.status);
        console.log('Response headers:', [...response.headers.entries()]);
        
        const text = await response.text();
        console.log('Response text:', text);
        
        try {
          const json = JSON.parse(text);
          resultDiv.innerHTML = '<pre>' + JSON.stringify(json, null, 2) + '</pre>';
        } catch (e) {
          resultDiv.innerHTML = 'Response is not JSON:<br><pre>' + text + '</pre>';
        }
      } catch (error) {
        console.error('Error:', error);
        resultDiv.innerHTML = 'Error: ' + error.message;
      }
    }
  </script>
</body>
</html>
